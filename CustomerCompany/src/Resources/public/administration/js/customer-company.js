!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=(window.__sw__.assetPath + '/bundles/customercompany/'),o(o.s="cgdm")}({LpAB:function(e){e.exports=JSON.parse('{"customerCompany":{"general":{"mainMenuItemGeneral":"Manage customer companies","descriptionTextModule":"Manage customer companies"},"list":{"companyId":"Company Id","columnCustomerNumber":"Customer Number","companyName":"Company Name","creditLimit":"Credit Limit"},"button":{"save":"save"},"success":{"title":"Company saved","message":"Company has been saved successfully"},"detail":{"companyCardTitle":"Company","companyLabel":"Company","companyPlaceholder":"Select a company"},"field":{"label":"Customer company"}}}')},UYlX:function(e){e.exports=JSON.parse('{"customerCompany":{"general":{"mainMenuItemGeneral":"Manage customer companies","descriptionTextModule":"Manage customer companies"},"list":{"companyId":"Company Id","columnCustomerNumber":"Customer Number","companyName":"Company Name","creditLimit":"Credit Limit"},"button":{"save":"save"},"success":{"title":"Company saved","message":"Company has been saved successfully"},"detail":{"companyCardTitle":"Company","companyLabel":"Company","companyPlaceholder":"Select a company"},"field":{"label":"Customer company"}}}')},YVLj:function(e,t){Shopware.Component.override("sw-customer-detail",{computed:{defaultCriteria:function(){var e=this.$super("defaultCriteria");return e.addAssociation("company"),e}},methods:{createdComponent:function(){this.$super("createdComponent"),this.customer&&!this.customer.company&&(this.customer.company=null)}}})},cgdm:function(e,t,o){"use strict";o.r(t);var n=Shopware.Data.Criteria,r=Shopware.Mixin;Shopware.Component.register("customer-company-list",{template:'<sw-page>\r\n    <template slot="smart-bar-actions">\r\n        <sw-button variant="primary" @click="onAddCustomerCompany">\r\n            Add Customer Company\r\n        </sw-button>\r\n    </template>\r\n\r\n    <template slot="content">\r\n        <sw-card>\r\n            <sw-data-grid\r\n                :dataSource="customerCompanies"\r\n                :columns="columns"\r\n                :isLoading="isLoading"\r\n                @edit-item="onEditCustomerCompany"\r\n                @delete-item="onDeleteCustomerCompany">\r\n                <template #actions="{ item }">\r\n                    <sw-context-menu-item @click="onEditCustomerCompany(item.id)">\r\n                        Edit\r\n                    </sw-context-menu-item>\r\n                    <sw-context-menu-item variant="danger" @click="onDeleteCustomerCompany(item.id)">\r\n                        Delete\r\n                    </sw-context-menu-item>\r\n                </template>\r\n            </sw-data-grid>\r\n        </sw-card>\r\n    </template>\r\n</sw-page>',inject:["repositoryFactory","acl"],mixins:[r.getByName("listing")],data:function(){return{customerCompanies:null,isLoading:!1}},computed:{customerCompanyRepo:function(){return this.repositoryFactory.create("customer_company")},columns:function(){return this.getColumns()}},created:function(){this.getCustomerCompanies()},methods:{getCustomerCompanies:function(){var e=this;this.isLoading=!0,this.customerCompanyRepo.search(new n,Shopware.Context.api).then((function(t){e.customerCompanies=t,e.isLoading=!1}))},onAddCustomerCompany:function(){this.$router.push({name:"customer.company.create"})},onEditCustomerCompany:function(e){this.$router.push({name:"customer.company.detail",params:{id:e}})},onDeleteCustomerCompany:function(e){var t=this;this.customerCompanyRepo.delete(e,Shopware.Context.api).then((function(){t.getCustomerCompanies()}))},getColumns:function(){return[{property:"companyId",label:"customerCompany.list.companyId",width:"250px",useCustomSort:!0,allowResize:!0},{property:"companyName",label:"customerCompany.list.companyName",useCustomSort:!0,allowResize:!0},{property:"creditLimit",label:"customerCompany.list.creditLimit",useCustomSort:!0,allowResize:!0}]}}});var a='{% block customer_company_details %}\r\n    <sw-page>\r\n        <template slot="smart-bar-actions">\r\n            <sw-button variant="primary" @click="onSave">\r\n                Save\r\n            </sw-button>\r\n        </template>\r\n\r\n        <template slot="content">\r\n            <sw-card>\r\n                <sw-field\r\n                    v-model="customerCompany.companyId"\r\n                    :label="$tc(\'customerCompany.list.companyId\')"\r\n                    :placeholder="$tc(\'customerCompany.list.companyId\')"\r\n                    required="required">\r\n                </sw-field>\r\n                <sw-field\r\n                    v-model="customerCompany.companyName"\r\n                    :label="$tc(\'customerCompany.list.companyName\')"\r\n                    :placeholder="$tc(\'customerCompany.list.companyName\')"\r\n                    required="required">\r\n                </sw-field>\r\n                <sw-field\r\n                    v-model="customerCompany.creditLimit"\r\n                    :label="$tc(\'customerCompany.list.creditLimit\')"\r\n                    :placeholder="$tc(\'customerCompany.list.creditLimit\')"\r\n                    type="number"\r\n                    required="required">\r\n                </sw-field>\r\n            </sw-card>\r\n        </template>\r\n    </sw-page>\r\n{% endblock %}',s=Shopware,m=(s.Component,s.Mixin);Shopware.Data.Criteria;Shopware.Component.register("customer-company-detail",{template:a,inject:["repositoryFactory"],mixins:[m.getByName("notification"),m.getByName("salutation"),m.getByName("listing")],data:function(){return{customerCompany:{companyId:"",companyName:"",creditLimit:0},isLoading:!1}},created:function(){this.getCustomerCompany()},computed:{customerCompanyRepo:function(){return this.repositoryFactory.create("customer_company")}},methods:{getCustomerCompany:function(){var e=this;this.isLoading=!0,this.customerCompanyRepo.get(this.$route.params.id,Shopware.Context.api).then((function(t){e.customerCompany=t,e.isLoading=!1}))},onSave:function(){var e=this;this.isLoading=!0,this.customerCompanyRepo.save(this.customerCompany,Shopware.Context.api).then((function(){e.isLoading=!1,e.$router.push({name:"customer.company.list"})})).catch((function(t){throw e.createNotificationError({title:e.$tc("global.default.error"),message:e.$tc("Error")}),e.isLoading=!1,t}))}}}),Shopware.Component.extend("customer-company-create","customer-company-detail",{template:a,methods:{getCustomerCompany:function(){this.customerCompany=this.customerCompanyRepo.create(Shopware.Context.api)},onClickSave:function(){var e=this;this.isLoading=!0,this.customerCompanyRepo.save(this.customerCompany,Shopware.Context.api).then((function(){e.createNotificationSuccess({title:e.$tc("customerCompany.success.title"),message:e.$tc("customerCompany.success.message")}),e.isLoading=!1,e.$router.push({name:"customer.company.list"})})).catch((function(t){throw e.createNotificationError({title:e.$tc("global.default.error"),message:e.$tc("Error")}),e.isLoading=!1,t}))}}});var c=o("LpAB"),i=o("UYlX");Shopware.Module.register("customer-company",{type:"plugin",name:"customer-company-module",title:"customerCompany.general.mainMenuItemGeneral",description:"customerCompany.general.descriptionTextModule",color:"#ff3d58",icon:"regular-users",snippets:{"de-DE":c,"en-GB":i},routes:{list:{component:"customer-company-list",path:"list"},detail:{component:"customer-company-detail",path:"detail/:id",meta:{parentPath:"customer.company.list"}},create:{component:"customer-company-create",path:"create",meta:{parentPath:"customer.company.list"}}},navigation:[{id:"customer-company",label:"Customer Company",color:"#ff3d58",path:"customer.company.list",position:200,parent:"sw-customer"}]});o("YVLj");Shopware.Component.override("sw-customer-base-info",{template:'{% block sw_customer_base_metadata_customer_group %}\r\n    <sw-description-list>\r\n        \r\n        {% block sw_customer_base_metadata_customer_group_label %}\r\n        <dt class="sw-customer-base-info__label">\r\n            {{ $tc(\'sw-customer.baseInfo.labelCustomerGroup\') }}\r\n        </dt>\r\n        {% endblock %}\r\n\r\n        \r\n        {% block sw_customer_base_metadata_customer_group_content %}\r\n        <dd v-if="!customerEditMode">\r\n            {{ customer.group.translated.name }}\r\n        </dd>\r\n        {% endblock %}\r\n\r\n        \r\n        {% block sw_customer_base_metadata_customer_group_editor %}\r\n        <dd v-else>\r\n            <sw-entity-single-select\r\n                v-model="customer.groupId"\r\n                entity="customer_group"\r\n                size="small"\r\n                show-clearable-button\r\n                :error="customerGroupIdError"\r\n            />\r\n        </dd>\r\n        {% endblock %}\r\n\r\n        {% block customer_company_base_label %}\r\n            <dt class="sw-customer-base-info__label">\r\n                {{ $tc(\'customerCompany.field.label\') }}\r\n            </dt>\r\n        {% endblock %}\r\n\r\n        {% block customer_company_content %}\r\n            <dd v-if="!customerEditMode">\r\n                \r\n            </dd>\r\n        {% endblock %}\r\n\r\n        {% block customer_company_editor %}\r\n            <dd v-else>\r\n                <sw-entity-single-select\r\n                    v-model="customer.companyId"\r\n                    entity="customer_company"\r\n                    size="small"\r\n                    show-clearable-button\r\n                    label-property="companyName"\r\n                    :error="customerGroupIdError"\r\n                />\r\n            </dd>\r\n        {% endblock %}\r\n    </sw-description-list>\r\n{% endblock %}'})}});